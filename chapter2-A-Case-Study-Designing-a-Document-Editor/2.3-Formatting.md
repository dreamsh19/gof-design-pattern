---
created: 2025-01-17 (금) 21:48:01
modified: 2025-01-17 (금) 22:15:39
---
- Glyph는 포맷팅에는 전혀 관여하지 않는다.
- 포맷팅은 다양한 알고리즘을 지원해야한다.
	- 여백의 폭을 얼마로 할 것인지
	- 들여쓰기도 지원해야한다.
- 여기서는 포맷팅의 개념을 "글리프를 어떻게 라인으로 쪼갤지"(line breaking)에 대한 논의로 한정한다.
	- 그리고 이 line breaking은 라인을 열로 쪼갤때, 혹은 열을 페이지로 쪼갤 때도 적용할 수 있다.

## Encapsulating the Formatting Algorithm

포맷팅 알고리즘 캡슐화의 의미
- 글리프의 구현이 추가된다고 해서 포맷팅 알고리즘이 영향을 받으면 안된다.
- 포맷팅 알고리즘이 변경된다고 해서 글리프의 변경이 필요해서는 안된다.
알고리즘이 필요한 이유
- 포맷팅 품질과 속도 사이의 trade-off가 있다.

## Compositor and Composition

 - 포맷팅 알고리즘을 캡슐화한 객체 : Compositor
	 - 대상 글리프가 무엇인지 =


![Image](https://github.com/user-attachments/assets/01ebff90-1070-4da0-9e04-ed6129753c8a)


![Image](https://github.com/user-attachments/assets/6f74c0d2-80f5-416a-98bd-c4988def8b98)


- Composition
	- 자식들로 글리프를 가짐.
	- 그리고 Composition 자체도 글리프임
	- Compositor를 상태로 갖고 있음.
	- 글리프 인터페이스 중 insert 연산을 compsitor.compose()에 위임한다.

## Strategy Pattern
- 알고리즘(Strategy)을 캡슐화하는 것이 전략 패턴의 의도.
- Strategy 객체(Compositor) + Context(Composition) 객체
