---
created: 2025-01-17 (금) 23:12:18
modified: 2025-01-17 (금) 23:46:02
---

운영체제의 다양성에 대한 지원
룩앤필과 달리 운영체제는 상호 호환성이 없다.

## Can We Use an Abstract Factory?

- 추상 팩토리는 룩앤필마다 대응되는 공통의 상위 추상클래스가 동일했다.
- 그런데, 운영체제는 공통의 추상 클래스를 정의할 수 없다.
- 그렇다면, 공통의 추상 클래스 계층을 만들어주어야한다.
	- 다행인 점은 운영체제가 서로 호환되진 않지만, 많이 다르진 않다는 점

## Encapsulating Implementation Dependencies

Window 의 구현.

Window 인터페이스에서 지원해야 하는 기능
- 기하학적인 도형을 그리는 기능
- 아이콘화, 아이콘 해제 기능
- 크기 변경 기능
- redraw 기능

윈도우 클래스는 극단적인 두가지 선택지가 가능하고,
- 모든 운영체제에서 지원하는 기능들의 교집합만 지원
- 모든 운영체제에서 지원하는 기능들의 합집합을 모두 지원
그 두가지 사이의 절충안을 채택해야한다.

**다양성이 존재하는 부분을 캡슐화한다.**

## Window and Windowlmp


![Image](https://github.com/user-attachments/assets/b4adc2fd-7c9a-4a03-98f8-cddeb7870084)

```
void Window::DrawRect (
	Coord xO, Coord yO, Coord xl, Coord yl
) {
	_imp->DeviceRect(xO, yO, xl, yl);
}
```

```
void XWindowImp::DeviceRect (
	Coord xO, Coord yO, Coord xl, Coord yl
) {
	// 구현1
}
```

```
void PMWindowImp::DeviceRect (
	Coord xO, Coord yO, Coord xl, Coord yl
) {
	// 구현2
}
```

## Configuring Windows with Windowlmps

언제 WidnowImp 구현체를 선택할 것인가?
앞 절의 추상 팩토리 패턴으로 구현한다.

## Bridge Pattern

논리적인 Window 인터페이스와 물리적인 WindowImp 구현의 독립적인 확장이 가능하다.
